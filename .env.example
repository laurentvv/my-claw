# ============================================================
# .env.example — Documentation de référence complète
# ============================================================
#
# Ce fichier sert de DOCUMENTATION COMPLÈTE de toutes les variables
# d'environnement utilisées dans le projet my-claw.
#
# IMPORTANT: Ne PAS copier ce fichier directement !
#
# Pour configurer l'environnement :
# - Gateway : Copier gateway/.env.example vers gateway/.env.local
# - Agent   : Copier agent/.env.example vers agent/.env
#
# Ou utiliser le script d'installation : .\setup.ps1
#
# ============================================================

# ============================================================
# GATEWAY — Next.js
# ============================================================

# Base de données SQLite (chemin relatif depuis gateway/)
DATABASE_URL="file:./prisma/dev.db"

# Auth WebChat — min 32 chars
WEBCHAT_TOKEN=""

# Auth Cron interne — min 32 chars
CRON_SECRET=""

# URL interne vers le cerveau Python
AGENT_URL="http://localhost:8000"

# ============================================================
# CANAUX
# ============================================================

# --- WhatsApp (Meta Cloud API) ---
# https://developers.facebook.com/docs/whatsapp/cloud-api/get-started
WHATSAPP_VERIFY_TOKEN=""          # Token de vérification webhook Meta (tu choisis)
WHATSAPP_ACCESS_TOKEN=""          # Token d'accès permanent Meta
WHATSAPP_PHONE_NUMBER_ID=""       # ID du numéro WhatsApp Business

# --- Nextcloud Talk Bot ---
# https://nextcloud-talk.readthedocs.io/en/latest/bot-list/
NEXTCLOUD_BASE_URL=""             # ex: https://nextcloud.mondomaine.fr
NEXTCLOUD_BOT_SECRET=""           # Secret partagé lors de l'enregistrement du bot
NEXTCLOUD_BOT_ID=""               # ID du bot dans Nextcloud

# ============================================================
# AGENT — Python smolagents
# ============================================================

# --- Ollama (local — 0 donnée sortante) ---
OLLAMA_BASE_URL="http://localhost:11434"

# --- Z.ai / GLM-4.7 + Vision (optionnel — cloud) ---
# https://open.bigmodel.cn/dev/api
# Requis pour TOOL-7 (MCP Vision GLM-4.6V) - analyse d'images, OCR, diagrammes
# Requis pour modèles "code" (glm-4.7-flash) et "reason" (glm-4.7)
# IMPORTANT: Utiliser l'API Coding dédiée pour le GLM Coding Plan
ZAI_API_KEY=""
ZAI_BASE_URL="https://api.z.ai/api/coding/paas/v4"

# --- SearXNG (local) ---
# Démarrer avec : docker run -d -p 8888:8080 searxng/searxng
SEARXNG_URL="http://localhost:8888"

# --- Screenshots (TOOL-8) ---
# Répertoire pour stocker les captures d'écran
SCREENSHOT_DIR="C:\tmp\myclawshots"

# ============================================================
# DÉPENDANCES PYTHON (agent/)
# ============================================================
#
# Les dépendances Python sont gérées par uv et définies dans agent/pyproject.toml
#
# Dépendances principales :
# - smolagents[litellm,mcp]>=1.9.0  : Framework d'agents avec support MCP
# - mcp>=0.9.0                      : SDK Model Context Protocol
# - mcpadapt                         : Adaptateur MCP pour smolagents (gestion robuste des threads)
#
# Installation des dépendances :
#   cd agent && uv add <package>
#
# Exemple : Ajouter mcpadapt pour la gestion robuste des clients MCP
#   cd agent && uv add mcpadapt
#

# ============================================================
# V2 — Voice / STT (ne pas remplir avant le module V2-A)
# ============================================================
# NEXTCLOUD_API_USER=""
# NEXTCLOUD_API_PASSWORD=""
# WHISPER_MODEL="base"            # tiny | base | small | medium
# WHISPER_LANGUAGE="auto"
